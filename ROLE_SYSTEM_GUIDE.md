# ๐ ุฏููู ูุธุงู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

## โ ุงููุดููุฉ ุงูุชู ุชู ุญููุง

ูุงู ููุงู ุฎุทุฃ `/staff?error=insufficient_permissions` ุจุณุจุจ ุนุฏู ุชุญุฏูุฏ ุฏูุฑ ุงููุณุชุฎุฏู ูู ุงููุธุงู.

## ๐ ุงูุญู ุงููุทุจู

### 1. ูููู ุญูุงูุฉ ุงูุฃุฏูุงุฑ (`RoleGuard`)
```typescript
// ุงูุงุณุชุฎุฏุงู ูู ุฃู ุตูุญุฉ
<RoleGuard allowedRoles={['staff', 'admin']}>
  {/* ูุญุชูู ุงูุตูุญุฉ */}
</RoleGuard>
```

### 2. ููุชูู ุงูุฃุฏูุงุฑ (`RoleSelector`)
- ูุงุฌูุฉ ุฌูููุฉ ูุงุฎุชูุงุฑ ุงูุฏูุฑ
- ุญูุธ ุชููุงุฆู ูู localStorage
- ุฅุนุงุฏุฉ ุชูุฌูู ููุตูุญุฉ ุงูููุงุณุจุฉ

### 3. ุตูุญุฉ ุฅุนุฏุงุฏ ุงูุฃุฏูุงุฑ (`/role-setup`)
- ุงูุชุนุงูู ูุน ุฃุฎุทุงุก ุงูุตูุงุญูุงุช
- ุนุฑุถ ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู
- ุฅููุงููุฉ ุงุฎุชูุงุฑ ุงูุฏูุฑ ุงูููุงุณุจ

## ๐ฏ ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ

| ุงูุฏูุฑ | ุงููุตู | ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ | ุงูุตูุงุญูุงุช |
|-------|--------|-----------------|-----------|
| `student` | ุทุงูุจ | `/student` | ุนุฑุถ ุงูุฏุฑุฌุงุช ูุงูุญุถูุฑ |
| `teacher` | ูุนูู | `/teacher` | ุฅุฏุงุฑุฉ ุงูุทูุงุจ ูุงูุฏุฑุฌุงุช |
| `staff` | ููุธู ุฅุฏุงุฑู | `/staff` | ุฅุฏุงุฑุฉ ุดุคูู ุงูุทูุงุจ |
| `admin` | ูุฏูุฑ ุงููุธุงู | `/admin` | ุตูุงุญูุงุช ูุงููุฉ |

## ๐ง ููููุฉ ุงูุนูู

### 1. ุนูุฏ ูุญุงููุฉ ุงููุตูู ูุตูุญุฉ ูุญููุฉ:
```
/staff โ ูุญุต ุงูุตูุงุญูุงุช โ ุฅุนุงุฏุฉ ุชูุฌูู ููุฅุนุฏุงุฏ ุฅุฐุง ูุฒู ุงูุฃูุฑ
```

### 2. ูุตุงุฏุฑ ุชุญุฏูุฏ ุงูุฏูุฑ:
```typescript
const userRole = 
  user.publicMetadata?.role ||     // ูู Clerk
  localStorage.getItem('userRole') || // ูู ุงูุชุฎุฒูู ุงููุญูู
  'student';                       // ุงูุชุฑุงุถู
```

### 3. ููุทู ุงูุญูุงูุฉ:
```typescript
const hasPermission = 
  allowedRoles.includes(userRole) || 
  allowedRoles.includes('all') ||
  userRole === 'admin'; // ุงููุฏูุฑ ูู ูู ุงูุตูุงุญูุงุช
```

## ๐จ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### โ ูุงุฌูุฉ ุฌูููุฉ ูุงุฎุชูุงุฑ ุงูุฃุฏูุงุฑ
- ุชุตููู ุนุตุฑู ุจุงูุฃููุงู ุงููุทููุจุฉ
- ุฑุณูู ูุชุญุฑูุฉ ูุชูุงุนู ุณูุณ
- ุฃูุตุงู ูุงุถุญุฉ ููู ุฏูุฑ

### โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ุนุฑุถ ุงูุฏูุฑ ุงูุญุงูู ูุงููุทููุจ
- ุฅุฑุดุงุฏุงุช ูุงุถุญุฉ ููุญู
- ุฅููุงููุฉ ุงูุนูุฏุฉ ุฃู ุงุฎุชูุงุฑ ุฏูุฑ ุฌุฏูุฏ

### โ ูุธุงู ูุฑู ููุงุจู ููุชูุณุน
- ุณูููุฉ ุฅุถุงูุฉ ุฃุฏูุงุฑ ุฌุฏูุฏุฉ
- ุชุฎุตูุต ุงูุตูุงุญูุงุช ููู ุฏูุฑ
- ุฏุนู ุตูุงุญูุงุช ูุชุนุฏุฏุฉ

## ๐ ููุงุฎุชุจุงุฑ

1. **ุงุฐูุจ ุฅูู**: `/staff`
2. **ุฅุฐุง ุธูุฑ ุฎุทุฃ ุตูุงุญูุงุช**: ุณุชูุญููู ุชููุงุฆูุงู ูุตูุญุฉ ุงูุฅุนุฏุงุฏ
3. **ุงุฎุชุฑ ุงูุฏูุฑ**: "ููุธู ุฅุฏุงุฑู" ุฃู "ูุฏูุฑ ุงููุธุงู"
4. **ุณุชูุญููู ุชููุงุฆูุงู**: ููุตูุญุฉ ุงูููุงุณุจุฉ

## ๐ ููุงุญุธุงุช

- **ูููุทูุฑูู**: ูููู ุชุทุจูู `RoleGuard` ุนูู ุฃู ุตูุญุฉ
- **ูููุณุชุฎุฏููู**: ุงูุฏูุฑ ูุญููุธ ูุญููุงู ููุง ูุญุชุงุฌ ุฅุนุงุฏุฉ ุงุฎุชูุงุฑ
- **ูููุฏูุฑูู**: ุฏูุฑ `admin` ูู ุตูุงุญูุฉ ุงููุตูู ููู ุดูุก

**ุงููุธุงู ุงูุขู ูุชุนุงูู ูุน ุฌููุน ุฃุฎุทุงุก ุงูุตูุงุญูุงุช ุจุทุฑููุฉ ุงุญุชุฑุงููุฉ! ๐**
